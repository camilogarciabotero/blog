[
  {
    "objectID": "posts/2022-08-31-Coffee-TT/index.html",
    "href": "posts/2022-08-31-Coffee-TT/index.html",
    "title": "What’s the best coffee?",
    "section": "",
    "text": "Coffee rating distributions\n\ncoffee <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-07-07/coffee_ratings.csv')\n\nhead(coffee) |>\n kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntotal_cup_points\nspecies\nowner\ncountry_of_origin\nfarm_name\nlot_number\nmill\nico_number\ncompany\naltitude\nregion\nproducer\nnumber_of_bags\nbag_weight\nin_country_partner\nharvest_year\ngrading_date\nowner_1\nvariety\nprocessing_method\naroma\nflavor\naftertaste\nacidity\nbody\nbalance\nuniformity\nclean_cup\nsweetness\ncupper_points\nmoisture\ncategory_one_defects\nquakers\ncolor\ncategory_two_defects\nexpiration\ncertification_body\ncertification_address\ncertification_contact\nunit_of_measurement\naltitude_low_meters\naltitude_high_meters\naltitude_mean_meters\n\n\n\n90.58\nArabica\nmetad plc\nEthiopia\nmetad plc\nNA\nmetad plc\n2014/2015\nmetad agricultural developmet plc\n1950-2200\nguji-hambela\nMETAD PLC\n300\n60 kg\nMETAD Agricultural Development plc\n2014\nApril 4th, 2015\nmetad plc\nNA\nWashed / Wet\n8.67\n8.83\n8.67\n8.75\n8.50\n8.42\n10\n10\n10\n8.75\n0.12\n0\n0\nGreen\n0\nApril 3rd, 2016\nMETAD Agricultural Development plc\n309fcf77415a3661ae83e027f7e5f05dad786e44\n19fef5a731de2db57d16da10287413f5f99bc2dd\nm\n1950\n2200\n2075\n\n\n89.92\nArabica\nmetad plc\nEthiopia\nmetad plc\nNA\nmetad plc\n2014/2015\nmetad agricultural developmet plc\n1950-2200\nguji-hambela\nMETAD PLC\n300\n60 kg\nMETAD Agricultural Development plc\n2014\nApril 4th, 2015\nmetad plc\nOther\nWashed / Wet\n8.75\n8.67\n8.50\n8.58\n8.42\n8.42\n10\n10\n10\n8.58\n0.12\n0\n0\nGreen\n1\nApril 3rd, 2016\nMETAD Agricultural Development plc\n309fcf77415a3661ae83e027f7e5f05dad786e44\n19fef5a731de2db57d16da10287413f5f99bc2dd\nm\n1950\n2200\n2075\n\n\n89.75\nArabica\ngrounds for health admin\nGuatemala\nsan marcos barrancas “san cristobal cuch\nNA\nNA\nNA\nNA\n1600 - 1800 m\nNA\nNA\n5\n1\nSpecialty Coffee Association\nNA\nMay 31st, 2010\nGrounds for Health Admin\nBourbon\nNA\n8.42\n8.50\n8.42\n8.42\n8.33\n8.42\n10\n10\n10\n9.25\n0.00\n0\n0\nNA\n0\nMay 31st, 2011\nSpecialty Coffee Association\n36d0d00a3724338ba7937c52a378d085f2172daa\n0878a7d4b9d35ddbf0fe2ce69a2062cceb45a660\nm\n1600\n1800\n1700\n\n\n89.00\nArabica\nyidnekachew dabessa\nEthiopia\nyidnekachew dabessa coffee plantation\nNA\nwolensu\nNA\nyidnekachew debessa coffee plantation\n1800-2200\noromia\nYidnekachew Dabessa Coffee Plantation\n320\n60 kg\nMETAD Agricultural Development plc\n2014\nMarch 26th, 2015\nYidnekachew Dabessa\nNA\nNatural / Dry\n8.17\n8.58\n8.42\n8.42\n8.50\n8.25\n10\n10\n10\n8.67\n0.11\n0\n0\nGreen\n2\nMarch 25th, 2016\nMETAD Agricultural Development plc\n309fcf77415a3661ae83e027f7e5f05dad786e44\n19fef5a731de2db57d16da10287413f5f99bc2dd\nm\n1800\n2200\n2000\n\n\n88.83\nArabica\nmetad plc\nEthiopia\nmetad plc\nNA\nmetad plc\n2014/2015\nmetad agricultural developmet plc\n1950-2200\nguji-hambela\nMETAD PLC\n300\n60 kg\nMETAD Agricultural Development plc\n2014\nApril 4th, 2015\nmetad plc\nOther\nWashed / Wet\n8.25\n8.50\n8.25\n8.50\n8.42\n8.33\n10\n10\n10\n8.58\n0.12\n0\n0\nGreen\n2\nApril 3rd, 2016\nMETAD Agricultural Development plc\n309fcf77415a3661ae83e027f7e5f05dad786e44\n19fef5a731de2db57d16da10287413f5f99bc2dd\nm\n1950\n2200\n2075\n\n\n88.83\nArabica\nji-ae ahn\nBrazil\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n100\n30 kg\nSpecialty Coffee Institute of Asia\n2013\nSeptember 3rd, 2013\nJi-Ae Ahn\nNA\nNatural / Dry\n8.58\n8.42\n8.42\n8.50\n8.25\n8.33\n10\n10\n10\n8.33\n0.11\n0\n0\nBluish-Green\n1\nSeptember 3rd, 2014\nSpecialty Coffee Institute of Asia\n726e4891cf2c9a4848768bd34b668124d12c4224\nb70da261fcc84831e3e9620c30a8701540abc200\nm\nNA\nNA\nNA\n\n\n\n\n\n\ncoffee |>\n  drop_na(any_of(\"country_of_origin\")) |>\n  filter(aroma != 0 & !country_of_origin %in% c(\"Zambia\", \"Rwanda\", \"Papua New Guinea\", \"Japan\", \"Mauritius\", \"Cote d?Ivoire\", \"Burundi\")) |>\n  mutate(country_of_origin = fct_reorder(country_of_origin, total_cup_points)) |> \n  ggplot(aes(x = total_cup_points, y = country_of_origin, fill = stat(x), label = owner)) +\n  geom_density_ridges_gradient(show.legend = T, alpha = .5, point_alpha = 0.5, jittered_points = TRUE) +\n  theme_ipsum() +\n  scale_fill_viridis_c(alpha = 0.7) +\n  ylab(\"\") +\n  xlab(\"Total cup points\") +\n  labs(\n    title = \"Comparison of coffee's ratings across countries and its distribution\",\n    subtitle = \"Ethiopian coffees seem to be the best. Latinoamerican countries were more abundant in the competition\",\n    caption = \"Data: TidyTuesday week 28. Plot: @Gaspardelanoche\",\n    fill = \"Total cup points\"\n  ) +\n  theme(\n    plot.title = element_text(size = 20, face = \"bold\"),\n    plot.subtitle = element_text(size = 18),\n    axis.title.x = element_text(size = 18),\n    axis.title.y = element_text(size = 18),\n    axis.text.y = element_text(size = 18),\n    plot.caption = element_text(size = 16)\n  ) +\n  geom_label_repel(\n    data = subset(coffee, total_cup_points > 89),\n    force = 10,\n    xlim = c(85, NA)\n  )\n\nPicking joint bandwidth of 0.919"
  },
  {
    "objectID": "posts/2022-09-01-Netflix-TT/index.html",
    "href": "posts/2022-09-01-Netflix-TT/index.html",
    "title": "Netflix titles per country",
    "section": "",
    "text": "Data import\n\nnetflix_titles <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-04-20/netflix_titles.csv') |>\n  mutate(date_added = mdy(date_added)) |>\n  mutate(year_added = year(date_added))\n\nReleased titles in 2020\n\n(\nmovies_country_year <- netflix_titles |> \n  select(country, release_year, type) |> \n  filter(release_year == 2020, !is.na(country)) |> \n  separate_rows(country, sep = \", \") |> \n  count(country = fct_lump(country, 10), sort = TRUE, type) |> \n  filter(country != \"Other\")\n)\n\n# A tibble: 20 × 3\n   country        type        n\n   <fct>          <chr>   <int>\n 1 United States  TV Show   197\n 2 United States  Movie     180\n 3 India          Movie      52\n 4 United Kingdom TV Show    42\n 5 South Korea    TV Show    27\n 6 United Kingdom Movie      26\n 7 Canada         Movie      21\n 8 Canada         TV Show    20\n 9 Germany        TV Show    20\n10 Spain          TV Show    17\n11 India          TV Show    16\n12 Japan          TV Show    15\n13 France         Movie      13\n14 France         TV Show    13\n15 Spain          Movie      13\n16 Brazil         TV Show    12\n17 Germany        Movie      12\n18 Brazil         Movie      11\n19 Japan          Movie       7\n20 South Korea    Movie       5\n\n\n\nggplot(movies_country_year, aes(n, reorder(country, n), label = n, fill = type)) +\n  geom_col(alpha = 0.7, width = 0.7, position = \"dodge2\") +\n  geom_text(size = 3, color = \"white\",  position = position_dodge(width = 0.8), hjust = -1) +\n  labs(\n    y = \"\",\n    x = \"\",\n    title = \"Released titles in 2020 available in Netflix\",\n    subtitle = \"Frequency of movies releases during 2020 (the pandemic) per country, that are available in Netflix \\n(Date do not correspond to Netflix release, but to the movies theirselves)\",\n    caption = \"Data: Kaggle \\n#TidyTuesday: 2021-04-17 \\nPlot: @Gaspardelanoche\"\n  ) +\n  theme(\n    plot.background = element_rect(fill = \"#111111\"),\n    panel.grid = element_line(color = \"#333333\", linetype = \"dotted\", size = 0.2),\n    panel.background = element_rect(fill = \"#111111\"),\n    axis.text.x = element_text(color = \"white\"),\n    axis.title = element_text(color = \"white\"),\n    axis.text.y = element_text(color = \"white\"),\n    axis.line = element_line(color = \"#333333\"),\n    axis.ticks = element_line(color = \"gray30\"),\n    plot.title = element_text(color = \"red\", size = 20),\n    plot.subtitle = element_text(color = \"white\", size = 13),\n    plot.caption = element_text(color = \"white\", size = 11),\n    legend.text = element_text(color = \"white\"),\n    legend.background = element_rect(fill = \"#111111\"),\n    legend.position = \"bottom\",\n    legend.title = element_blank()\n  ) +\n  scale_fill_manual(values = c(\"#FAF5FF\",\"#FF0000\"))\n\n\n\n\nReleases titles animated\n\n(\nmovies_country_years <- netflix_titles |> \n  select(country, release_year, type) |> \n  filter(!is.na(country), !is.na(release_year)) |> \n  separate_rows(country, sep = \", \") |> \n  count(country = fct_lump(country,10), sort = TRUE, release_year) |> \n  pivot_wider(names_from = release_year, values_from = n) |>\n  # mutate(vars(\"2018\":\"2011\"), ~ if_else(is.na(.), '0', .))\n  mutate(across(everything(), ~replace_na(., 0)))\n  # pivot_longer(!c(country,), names_to = \"release_year\",  values_to = \"n\") |> \n  # filter(country != \"Other\") |> \n  # group_by(country) |> \n  # arrange(release_year) |>\n  # summarize(release_year, cumsum = cumsum(n), n, .groups = \"drop\") |>\n  # # ungroup() |> \n  # group_by(release_year) |> \n  # mutate(ordering = rank(cumsum, ties.method = \"first\"), release_year = as.integer(release_year), cumsum_lab = as.character(cumsum))\n)\n\n\nmovies_country_years_animated <- ggplot(movies_country_years, aes(ordering, group = country)) +\n  geom_tile(aes(y = cumsum/2, height = cumsum, width = 0.9), alpha = 0.5, fill = \"red\") +\n  geom_text(aes(y = 0, label = country), hjust = 1.1, color = \"white\") +\n  geom_text(aes(y = cumsum, label = cumsum_lab), size = 3, color = \"white\", hjust = -0.5) +\n  coord_flip(clip = \"off\", expand = FALSE) +  \n  labs(\n    y = \"\",\n    x = \"\",\n    title = \"Released titles in {frame_time} available in Netflix\",\n    subtitle = \"Frequency of movies released in {frame_time} country, that are available in Netflix \\n(Date do not correspond to Netflix release, but to the movies theirselves)\",\n    caption = \"Data: Kaggle \\n#TidyTuesday: 2021-04-17 \\nPlot: @Gaspardelanoche\"\n  ) +\n  theme(\n    plot.background = element_rect(fill = \"#111111\"),\n    panel.grid = element_line(color = \"#333333\", linetype = \"dotted\", size = 0.2),\n    panel.background = element_rect(fill = \"#111111\"),\n    axis.text.x = element_text(color = \"white\"),\n    axis.title = element_text(color = \"white\"),\n    axis.text.y = element_blank(),\n    axis.line = element_line(color = \"#333333\"),\n    axis.ticks = element_line(color = \"gray30\"),\n    plot.title = element_text(color = \"red\", size = 20),\n    plot.subtitle = element_text(color = \"white\", size = 13),\n    plot.caption = element_text(color = \"white\", size = 11),\n    legend.text = element_text(color = \"white\"),\n    legend.title = element_blank(),\n    plot.margin = margin(4, 4, 4, 4, \"cm\")\n  )  +\n  transition_time(release_year) +\n  ease_aes('bounce-in-out')\n\ngganimate::animate(movies_country_years_animated, nframes = 500, fps = 10, width = 800, height = 800, end_pause = 25)"
  },
  {
    "objectID": "publications/pubs.html",
    "href": "publications/pubs.html",
    "title": "What’s the best coffee?",
    "section": "",
    "text": "a thing\nanother thing"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Miscellaneous",
    "section": "",
    "text": "tidytuesday\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nSep 3, 2022\n\n\nCamilo García\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nnews\n\n\ncode\n\n\nanalysis\n\n\ntidytuesday\n\n\nanimated\n\n\n\n\n\n\n\n\n\n\n\nSep 3, 2022\n\n\nCamilo García\n\n\n\n\n\n\nNo matching items"
  }
]